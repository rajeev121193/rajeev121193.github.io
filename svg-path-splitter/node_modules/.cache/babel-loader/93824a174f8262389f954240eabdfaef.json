{"ast":null,"code":"import _slicedToArray from\"/Users/mkumar18/dev/personal/rajeev121193.github.io/svg-path-splitter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import\"./Images.css\";import React,{useState,useRef}from\"react\";import uploadIcon from\"./upload-solid.svg\";import downloadIcon from\"./download-solid.svg\";import{OptimizeSvg}from\"./OptimizeSvg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Images(){var fileInputField=useRef(null);var outputFileContainer=useRef(null);var _useState=useState(null),_useState2=_slicedToArray(_useState,2),inputFile=_useState2[0],setInputFile=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),outputFile=_useState4[0],setOutputFile=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),dragging=_useState6[0],setDragging=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),width=_useState8[0],setWidth=_useState8[1];var _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),height=_useState10[0],setHeight=_useState10[1];var preventDefaultFn=function preventDefaultFn(e){e.preventDefault();};var onDragEnter=function onDragEnter(e){setDragging(true);};var onDragLeave=function onDragLeave(e){setDragging(false);};var fileDrop=function fileDrop(e){e.preventDefault();var files=e.dataTransfer.files;if(files.length===1){handleInputFile(files[0]);}};var handleNewFileUpload=function handleNewFileUpload(e){var files=e.target.files;if(files.length===1){handleInputFile(files[0]);}};var setWidthAndHeight=function setWidthAndHeight(w,h){setWidth(w);setHeight(h);};var handleInputFile=function handleInputFile(file){setInputFile(file);OptimizeSvg(URL.createObjectURL(file),setOutputFile,setWidthAndHeight);};// Simulates click of hidden input element for all upload actions\nvar handleUploadAction=function handleUploadAction(){fileInputField.current.click();};var didUploadSvgFile=inputFile&&inputFile.type.split(\"/\")[0]===\"image\"&&inputFile.type.split(\"/\")[1].indexOf(\"svg\")!==-1;// Set the output file preview\nif(didUploadSvgFile&&outputFile){outputFileContainer.current.innerHTML=outputFile;}return/*#__PURE__*/_jsxs(\"div\",{className:\"Images\",children:[/*#__PURE__*/_jsx(\"input\",{style:{display:\"none\"},type:\"file\",ref:fileInputField,onChange:handleNewFileUpload}),didUploadSvgFile?/*#__PURE__*/_jsxs(\"div\",{className:\"Images-input\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"input-svg-preview\",src:URL.createObjectURL(inputFile),alt:\"input svg\",width:width,height:height}),/*#__PURE__*/_jsx(\"img\",{src:uploadIcon,className:\"upload-button cursor-pointer\",onClick:handleUploadAction,alt:\"upload file\",width:\"40\",height:\"40\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"file-upload-area cursor-pointer\".concat(dragging?\" hovering\":\"\"),onClick:handleUploadAction,onDragOver:preventDefaultFn,onDragEnter:onDragEnter,onDragLeave:onDragLeave,onDrop:fileDrop,children:[/*#__PURE__*/_jsx(\"p\",{children:\"Drag and drop your files\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"p\",{children:\"Click anywhere to choose from files\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"Images-output\".concat(outputFile?\"\":\" hide\"),children:[/*#__PURE__*/_jsx(\"span\",{className:\"output-svg-preview\",ref:outputFileContainer}),/*#__PURE__*/_jsx(\"img\",{src:downloadIcon,className:\"download-button cursor-pointer\",onClick:handleUploadAction,alt:\"download file\",width:\"40\",height:\"40\",color:\"#ffffff\"})]})]});}","map":{"version":3,"sources":["/Users/mkumar18/dev/personal/rajeev121193.github.io/svg-path-splitter/src/Images.js"],"names":["React","useState","useRef","OptimizeSvg","Images","fileInputField","outputFileContainer","inputFile","setInputFile","outputFile","setOutputFile","dragging","setDragging","width","setWidth","height","setHeight","preventDefaultFn","e","preventDefault","onDragEnter","onDragLeave","fileDrop","files","dataTransfer","length","handleInputFile","handleNewFileUpload","target","setWidthAndHeight","w","h","file","URL","createObjectURL","handleUploadAction","current","click","didUploadSvgFile","type","split","indexOf","innerHTML","display","uploadIcon","downloadIcon"],"mappings":"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","sourcesContent":["import \"./Images.css\";\nimport React, {useState, useRef} from \"react\";\nimport uploadIcon from \"./upload-solid.svg\";\nimport downloadIcon from \"./download-solid.svg\";\nimport {OptimizeSvg} from \"./OptimizeSvg\";\n\nexport default function Images() {\n    const fileInputField = useRef(null);\n    const outputFileContainer = useRef(null);\n    const [inputFile, setInputFile] = useState(null);\n    const [outputFile, setOutputFile] = useState(null);\n    const [dragging, setDragging] = useState(false);\n    const [width, setWidth] = useState(0);\n    const [height, setHeight] = useState(0);\n\n    const preventDefaultFn = e => {\n        e.preventDefault();\n    };\n\n    const onDragEnter = e => {\n        setDragging(true);\n    };\n\n    const onDragLeave = e => {\n        setDragging(false);\n    };\n\n    const fileDrop = e => {\n        e.preventDefault();\n        const files = e.dataTransfer.files;\n        if (files.length === 1) {\n            handleInputFile(files[0]);\n        }\n    };\n\n    const handleNewFileUpload = e => {\n        const {files} = e.target;\n        if (files.length === 1) {\n            handleInputFile(files[0]);\n        }\n    };\n\n    const setWidthAndHeight = (w, h) => {\n        setWidth(w);\n        setHeight(h);\n    };\n\n    const handleInputFile = file => {\n        setInputFile(file);\n        OptimizeSvg(\n            URL.createObjectURL(file),\n            setOutputFile,\n            setWidthAndHeight\n        );\n    };\n\n    // Simulates click of hidden input element for all upload actions\n    const handleUploadAction = () => {\n        fileInputField.current.click();\n    };\n\n    const didUploadSvgFile =\n        inputFile &&\n        inputFile.type.split(\"/\")[0] === \"image\" &&\n        inputFile.type.split(\"/\")[1].indexOf(\"svg\") !== -1;\n\n    // Set the output file preview\n    if (didUploadSvgFile && outputFile) {\n        outputFileContainer.current.innerHTML = outputFile;\n    }\n\n    return (\n        <div className=\"Images\">\n            <input\n                style={{display: \"none\"}}\n                type=\"file\"\n                ref={fileInputField}\n                onChange={handleNewFileUpload}\n            />\n            {didUploadSvgFile ? (\n                <div className=\"Images-input\">\n                    <img\n                        className=\"input-svg-preview\"\n                        src={URL.createObjectURL(inputFile)}\n                        alt=\"input svg\"\n                        width={width}\n                        height={height}\n                    />\n                    <img\n                        src={uploadIcon}\n                        className=\"upload-button cursor-pointer\"\n                        onClick={handleUploadAction}\n                        alt=\"upload file\"\n                        width=\"40\"\n                        height=\"40\"></img>\n                </div>\n            ) : (\n                <div\n                    className={`file-upload-area cursor-pointer${\n                        dragging ? \" hovering\" : \"\"\n                    }`}\n                    onClick={handleUploadAction}\n                    onDragOver={preventDefaultFn}\n                    onDragEnter={onDragEnter}\n                    onDragLeave={onDragLeave}\n                    onDrop={fileDrop}>\n                    <p>Drag and drop your files</p>\n                    <br />\n                    <p>Click anywhere to choose from files</p>\n                </div>\n            )}\n            <div className={`Images-output${outputFile ? \"\" : \" hide\"}`}>\n                <span\n                    className=\"output-svg-preview\"\n                    ref={outputFileContainer}></span>\n                <img\n                    src={downloadIcon}\n                    className=\"download-button cursor-pointer\"\n                    onClick={handleUploadAction}\n                    alt=\"download file\"\n                    width=\"40\"\n                    height=\"40\"\n                    color=\"#ffffff\"\n                />\n            </div>\n        </div>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}